<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Case Study 3 • OCTOPUS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Case Study 3">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">OCTOPUS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/OCTOPUS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Examples.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/CaseStudy1.html">Case Study 1</a>
    </li>
    <li>
      <a href="../articles/CaseStudy2.html">Case Study 2</a>
    </li>
    <li>
      <a href="../articles/CaseStudy3.html">Case Study 3</a>
    </li>
    <li>
      <a href="../articles/CaseStudy4.html">Case Study 4</a>
    </li>
    <li>
      <a href="../articles/CaseStudy5.html">Case Study 5</a>
    </li>
    <li>
      <a href="../articles/CaseStudy6.html">Case Study 6</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kwathen/OCTOPUS">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Case Study 3</h1>
                        <h4 class="author">J. Kyle Wathen</h4>
            
            <h4 class="date">2019-12-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/kwathen/OCTOPUS/blob/master/vignettes/CaseStudy3.Rmd"><code>vignettes/CaseStudy3.Rmd</code></a></small>
      <div class="hidden name"><code>CaseStudy3.Rmd</code></div>

    </div>

    
    
<p>This case study builds on <a href="https://kwathen.github.io/OCTOPUS/articles/CaseStudy2.html">Case Study 2</a> by adding a new method for simulating patient outcomes. It covers a simple case with one ISA and no interim analysis (IA) and provides an example of how to add a new approach for simulating patient outcomes. This package is designed with the intention that others can add new functionality as needed through the use of S3 classes.</p>
<p>The ability to simulate from a MVN with a covariate has been included since Case Study 3 was originally developed. Thus, for Case Study 3 we name the new outcome MVNWithCovariateCS3 but please note this code was largely copied from MVNWithCovariate in the base package.</p>
<p>The R code may be found in the Examples/CaseStudy3</p>
<div id="assumptions" class="section level2">
<h2 class="hasAnchor">
<a href="#assumptions" class="anchor"></a>Assumptions</h2>
<div id="trial-design-elements" class="section level3">
<h3 class="hasAnchor">
<a href="#trial-design-elements" class="anchor"></a>Trial Design Elements</h3>
<ul>
<li>Platform trial with 1 ISA</li>
<li>No Interim analysis</li>
<li>Final Analysis (FA) when all patients have the outcome observed.</li>
<li>30 patients on control (C) 60 patients on treatment (T)</li>
<li>Primary outcome is repeated measure evaluated at baseline, 4, 8, 12, 16, 20 and 24 weeks after treatment</li>
<li>Analyze difference from baseline to week 24 compared to control using a Bayesian AR(1) model.</li>
<li>Minimum Acceptable Value MAV = 0.5 difference between control and treatment
<ul>
<li>This is the minimum difference between treatment and control <span class="math display">\[ ( \mu_{24} - \mu_0 )_{C} – (\mu_{24} - m_0 )_{T}\]</span>
</li>
</ul>
</li>
<li>Decision Rules
<ul>
<li>Define <span class="math inline">\(\delta_C = ( \mu_{24} - \mu_0 )_{C}\)</span> and <span class="math inline">\(\delta_T = (\mu_{24} - m_0 )_{T}\)</span>
</li>
<li>If <span class="math inline">\(\rho = Pr( \delta_C - \delta_T\)</span> &gt; MAV | data ) <span class="math inline">\(&gt; P_U = 0.8\)</span> then make a “Go” decision</li>
<li>If Pr( <span class="math inline">\(\delta_C - \delta_T\)</span> &gt; MAV | data ) <span class="math inline">\(&lt; P_L = 0.1\)</span> then make a “No Go” decision</li>
<li>Otherwise the decision is indeterminate</li>
</ul>
</li>
</ul>
<p>If the goal at the end of the study is to make a decision of Go or No Go, then <span class="math inline">\(P_U = P_L\)</span>.</p>
<p>In the context of this case study, patient outcomes are not expected to change over the 24 weeks for the control treatment, where as the treatment is expected to decrease the values of the patient outcomes. Thus, <span class="math inline">\(\delta_C - \delta_T\)</span> is expected to be greater than 0 for effective treatments and consequently, high values for <span class="math inline">\(\rho\)</span> indicate an effective treatment.</p>
<p>The function SetupTrialDesign() is located in <a href="https://github.com/kwathen/OCTOPUS/blob/master/inst/Examples/CaseStudy3/TrialDesign.R">TrialDesign.R</a> and the function is called to build the trial object from the BuildMe.R file in this example.</p>
</div>
<div id="simulation-design-elements" class="section level3">
<h3 class="hasAnchor">
<a href="#simulation-design-elements" class="anchor"></a>Simulation Design Elements</h3>
<p>The simulation object contains all information to specify how the trial is simulated. Specifically, it contains a list of scenarios, such as the null and alternative, details about patient accrual rates and in a multiple ISA setting information about how and when the second and subsequent ISAs are added to the trial.</p>
<p>For case study 3, the data for each patient is simulated from a multi-variate normal with a binary covariate. The patient covariate is specified as a responder or non-responder and the outcome value over time is simulated from a MVN with a separate mean vector specified for responders and non-responders. Based on the historical data we have the following means for responders and non-responders shown below is used to specify various scenarios in the simulation study, more detail provided below.</p>
<div id="table-1---true-means" class="section level4">
<h4 class="hasAnchor">
<a href="#table-1---true-means" class="anchor"></a>Table 1 - True Means</h4>
<table class="table">
<caption>True Means</caption>
<thead><tr class="header">
<th></th>
<th align="right">Baseline</th>
<th align="right">Week 4</th>
<th align="right">Week 8</th>
<th align="right">Week 12</th>
<th align="right">Week 16</th>
<th align="right">Week 20</th>
<th align="right">Week 24</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Non-responders</td>
<td align="right">3.5</td>
<td align="right">3.5</td>
<td align="right">3.5</td>
<td align="right">3.5</td>
<td align="right">3.5</td>
<td align="right">3.5</td>
<td align="right">3.5</td>
</tr>
<tr class="even">
<td>Responders</td>
<td align="right">3.5</td>
<td align="right">3.4</td>
<td align="right">3.0</td>
<td align="right">2.5</td>
<td align="right">2.9</td>
<td align="right">1.4</td>
<td align="right">0.9</td>
</tr>
</tbody>
</table>
<p>In addition, the estimates of the variance/covariance over time is</p>
</div>
<div id="table-2---variancecovariance-matrix" class="section level4">
<h4 class="hasAnchor">
<a href="#table-2---variancecovariance-matrix" class="anchor"></a>Table 2 - Variance/Covariance Matrix</h4>
<p><span class="math display">\[V = \begin{bmatrix}0.5&amp;0.4&amp;0.4&amp;0.4&amp;0.4&amp;0.4&amp;0.4 \\0.4&amp;0.5&amp;0.4&amp;0.4&amp;0.4&amp;0.4&amp;0.4 \\0.4&amp;0.4&amp;0.5&amp;0.4&amp;0.4&amp;0.4&amp;0.4 \\0.4&amp;0.4&amp;0.4&amp;0.5&amp;0.4&amp;0.4&amp;0.4 \\0.4&amp;0.4&amp;0.4&amp;0.4&amp;0.5&amp;0.4&amp;0.4 \\0.4&amp;0.4&amp;0.4&amp;0.4&amp;0.4&amp;0.5&amp;0.4 \\0.4&amp;0.4&amp;0.4&amp;0.4&amp;0.4&amp;0.4&amp;0.5 \\\end{bmatrix}\]</span></p>
<p>In general, the responders and non-responders could have different var-cov matrix but for simplicity in this case study they are assumed to be the same.</p>
<p>The trial recruitment is specified in terms of the number of patients accrued per month per site (patients/month/site) and the number of sites open in the platform. For simplicity, the ramp-up in the number of patients/month/site is not applied within a site and recruitment to the platform assumes a Poisson process with the rate equal to the number of patients/month/site * number of sites open.</p>
<p>To specify the scenarios, each treatment specifies a percent of patients that are responders and non-responders. For the control treatment, the percent of responders is 2% in all scenarios. The treatment are varies the percent of responders from 2% (the null case) to 40%.</p>
<p>During the simulation of a virtual trials, a patient is first simulated as a responder or non-responder and then their observed values over time from the corresponding MVN. In this case study, an effective treatment is expected to move patients from the non-responder category to the responder category.</p>
<p>The function SetupSimulations() is located in <a href="https://github.com/kwathen/OCTOPUS/blob/master/inst/Examples/CaseStudy3/SimulationDesign.R">SimulationDesign.R</a> and the function is called to build the simulation object for the BuildMe.R file in this example.</p>
</div>
</div>
</div>
<div id="r-code" class="section level2">
<h2 class="hasAnchor">
<a href="#r-code" class="anchor"></a>R Code</h2>
<p>Begin with the BuildMe.R file. This file loads the OCTOPUS package and sources the design file.<br>
The file TrialDesign.R contains the function necessary to set-up the design object. The file SimulationDesign.R contains the functions necessary to set-up the simulation design.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#assumptions">Assumptions</a></li>
      <li><a href="#r-code">R Code</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by J. Kyle Wathen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
